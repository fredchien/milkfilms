(function(){var a={}.hasOwnProperty,b=[].slice;!function(c,d){var e;return e=e||{},e.init=function(a){var b;return this.ApiReady=!1,b=c.navigator.userAgent.toLowerCase(),this.platform={isIE8:null!==b.match(/msie 8/),isIE9:null!==b.match(/msie 9/),isIE10:null!==b.match(/msie 10/)},this.feature=a||(this.platform.isIE8||this.platform.isIE9||this.platform.isIE10?"flash":"iframe"),this[this.feature].init(),this.registerPackage()},e.onApiReady=function(){var b,c,d,e;console.log(this.feature,"API ready, initialize Video."),this.ApiReady=!0,d=this.YTplayers,e=[];for(b in d)a.call(d,b)&&(c=d[b],c.initialized?e.push(void 0):e.push(c=this[this.feature].initializeVideo(b,c)));return e},e.pushToQueue=function(a,b){return this.YTplayers[a]=b,this.YTplayers[a].initialized=!1},e.util={objToUrl:function(b){var c,d,e,f,g;c=0,f="";for(d in b)a.call(b,d)&&(g=b[d],e=0===c?"?":"&",f+=""+e+d+"="+g,c++);return f}},e.iframe={init:function(){var a,b;return console.log("init iframe"),c.onYouTubeIframeAPIReady=function(a){return function(){return e.onApiReady()}}(this),b=document.createElement("script"),b.src="https://www.youtube.com/iframe_api",a=document.getElementsByTagName("script")[0],a.parentNode.insertBefore(b,a)},initializeVideo:function(a,b){var c;return b.playerVars=b.playerVars||{},b.playerVars.wmode="opaque",b.playerVars.html5=1,c=new YT.Player(a,{wmode:"opaque",width:b.width,height:b.height,videoId:b.videoId,playerVars:b.playerVars,events:{onReady:b.onReady,onStateChange:function(a){switch("function"==typeof b.onStateChange&&b.onStateChange(a),a.data){case 0:return"function"==typeof b.onEnd?b.onEnd(a):void 0;case 1:return"function"==typeof b.onPlay?b.onPlay(a):void 0;case 2:return"function"==typeof b.onPause?b.onPause(a):void 0;case 3:return"function"==typeof b.onBuffer?b.onBuffer(a):void 0}},onPlaybackQualityChange:b.onPlaybackQualityChange,onPlaybackRateChange:b.onPlaybackRateChange,onApiChange:b.onApiChange,onError:b.onError}}),console.log("video initialized"),e.YTplayers[a]=c}},e.flash={init:function(){var a,b;return console.log("init flash"),b=document.createElement("script"),b.onload=function(){return console.log("swfobject script load"),e.onApiReady()},b.src="http://ajax.googleapis.com/ajax/libs/swfobject/2.2/swfobject.js",a=document.getElementsByTagName("script")[0],a.parentNode.insertBefore(b,a)},initializeVideo:function(a,b){var d;return console.log("flash initialiseVideo"),b.playerVars=b.playerVars||{},b.playerVars.wmode="opaque",b.playerVars.version=3,b.playerVars.enablejsapi=1,b.playerVars.playerapiid=b.videoId,d=e.util.objToUrl(b.playerVars),swfobject.embedSWF("http://www.youtube.com/v/"+b.videoId+d,a,b.width,b.height,"8",null,null,{allowScriptAccess:"always",wmode:"transparent"},{id:a}),c.onYouTubePlayerReady=function(d){var f;console.log("flash onYouTubePlayerReady"),f=document.getElementById(a),c[""+a+"OnStateChange"]=function(a){switch("function"==typeof b.onStateChange&&b.onStateChange(a),a){case-1:return"function"==typeof b.onReady?b.onReady(a):void 0;case 0:return"function"==typeof b.onEnd?b.onEnd(a):void 0;case 1:return"function"==typeof b.onPlay?b.onPlay(a):void 0;case 2:return"function"==typeof b.onPause?b.onPause(a):void 0;case 3:return"function"==typeof b.onBuffer?b.onBuffer(a):void 0}},c[""+a+"OnError"]=function(a){return"function"==typeof b.onError?b.onError(a):void 0},c[""+a+"OnApiChange"]=function(a){return"function"==typeof b.onApiChange?b.onApiChange(a):void 0},c[""+a+"OnPlaybackRateChange"]=function(a){return"function"==typeof b.onPlaybackRateChange?b.onPlaybackRateChange(a):void 0},c[""+a+"OnPlaybackQualityChange"]=function(a){return"function"==typeof b.onPlaybackQualityChange?b.onPlaybackQualityChange(a):void 0},f.addEventListener("onError",""+a+"OnError"),f.addEventListener("onApiChange",""+a+"OnApiChange"),f.addEventListener("onStateChange",""+a+"OnStateChange"),f.addEventListener("onPlaybackRateChange",""+a+"OnPlaybackRateChange"),f.addEventListener("onPlaybackQualityChange",""+a+"OnPlaybackQualityChange"),e.YTplayers[a]=f}}},d.prototype.YTplayer=function(a){return this.id=d(this).attr("id"),this.width=a.width||640,this.height=a.height||480,this.videoId=a.videoId||"fz4MzJTeL0c",this.playerVars=a.playerVars,this.onReady=a.onReady,this.onStateChange=a.onStateChange,this.onStart=a.onStart,this.onEnd=a.onEnd,this.onPlay=a.onPlay,this.onPause=a.onPause,this.onBuffer=a.onBuffer,this.onPlaybackQualityChange=a.onPlaybackQualityChange,this.onPlaybackRateChange=a.onPlaybackRateChange,this.onError=a.onError,this.onApiChange=a.onApiChange,e.YTplayers=e.YTplayers||{},e.ApiReady?(console.log(e.feature,"API ready, initialize Video."),e[e.feature].initializeVideo(this.id,this)):(console.log(e.feature,"API not ready, queue Video."),e.pushToQueue(this.id,this))},e.registerPackage=function(){var a,c,f,g,h,i,j,k;for(this.registerPackage=function(a,c){return null==c&&(c=a),d.prototype[a]=function(){var a,f,g,h;if(a=1<=arguments.length?b.call(arguments,0):[],f=d(this).attr("id"),void 0!==e.YTplayers[f]&&(g=e.YTplayers[f],g.initialized!==!1))return null!=(h=g[c])?h.apply(g,a):void 0}},this.registerPackage("ytplay","playVideo"),this.registerPackage("ytpause","pauseVideo"),this.registerPackage("ytstop","stopVideo"),this.registerPackage("ytclear","clearVideo"),k=["seekTo","setSize","mute","unMute","isMuted","setVolume","getVolume","getVideoLoadedFraction","getPlayerState","getCurrentTime","setPlaybackRate","getPlaybackRate","getAvailablePlaybackRate","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getDuration","getVideoUrl","getVideoEmbedCode","addEventListener","removeEventListener","getIframe","destroy"],i=0,j=k.length;i<j;i++)f="yt"+k[i],this.registerPackage(f);return a=function(a){return document.documentElement.requestFullscreen?a.requestFullscreen():("function"==typeof a.msRequestFullscreen&&a.msRequestFullscreen(),"function"==typeof a.mozRequestFullScreen&&a.mozRequestFullScreen(),"function"==typeof a.webkitRequestFullscreen&&a.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)),d(a).addClass("ytplayer-fullscreen")},c=function(){return document.exitFullscreen?document.exitFullscreen():("function"==typeof document.msExitFullscreen&&document.msExitFullscreen(),"function"==typeof document.mozCancelFullScreen&&document.mozCancelFullScreen(),"function"==typeof document.webkitExitFullscreen&&document.webkitExitFullscreen()),d(".ytplayer-fullscreen").removeClass("ytplayer-fullscreen")},h=function(b){return d.fullscreenElement()?c():a(b)},g=function(){return console.log("fullScreenEventName evoked"),null!=document.msExitFullscreen?"MSFullscreenChange":null!=document.mozCancelFullScreen?"mozfullscreenchange":null!=document.webkitExitFullscreen?"webkitfullscreenchange":""},document.addEventListener(g(),function(){if(!d.fullscreenElement())return c()}),d.fullscreenElement=function(){var a;return a=document.fullScreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement},d.prototype.enterFullscreen=function(){return a(d(this)[0])},d.prototype.exitFullscreen=function(){return c(d(this)[0])},d.prototype.toggleFullscreen=function(){return h(d(this)[0])}},e.init()}(window,window.jQuery)}).call(this);